<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="RM">
    <title>PProxy Status Page</title>

    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- HTMX CDN -->
    <script src="https://unpkg.com/htmx.org@2.0.1"></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/response-targets.js"></script>

    <!-- FontAwesome CDN -->
    <script src="https://kit.fontawesome.com/34be06a8e3.js" crossorigin="anonymous"></script>
</head>

<body class="bg-gray-100 text-gray-900 p-4">

<div id="content-area" class="max-w-xl mx-auto space-y-6">

    <!-- Status Fields -->
    <div class="bg-white p-4 shadow rounded-lg border border-gray-200 space-y-2">
        <p><strong>Auto-Suspend Enabled:</strong> {{ enabled }}</p>
        <p><strong>System Suspended:</strong> {{ suspended }}</p>
        <p><strong>Elapsed:</strong> {{ elapsed }}</p>
        <p><strong>Limit:</strong> {{ limit }}</p>
    </div>

    <!-- Buttons -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">

        <!-- Resume -->
        <button
                hx-get="/resume"
                hx-target="#content-area"
                class="w-full py-3 rounded-lg text-white bg-blue-600 hover:bg-blue-700">
            <i class="fa fa-play"></i> Resume
        </button>

        <!-- Suspend -->
        <button
                hx-get="/suspend"
                hx-target="#content-area"
                class="w-full py-3 rounded-lg text-black bg-yellow-400 hover:bg-yellow-500">
            <i class="fa fa-pause"></i> Suspend
        </button>

        <!-- Enable -->
        <button
                hx-get="/enable"
                hx-target="#content-area"
                class="w-full py-3 rounded-lg text-white bg-green-600 hover:bg-green-700">
            <i class="fa fa-check"></i> Enable
        </button>

        <!-- Disable -->
        <button
                hx-get="/disable"
                hx-target="#content-area"
                class="w-full py-3 rounded-lg text-white bg-red-600 hover:bg-red-700">
            <i class="fa fa-ban"></i> Disable
        </button>

        <!-- Status -->
        <button
                hx-get="/status"
                hx-target="#content-area"
                class="w-full py-3 rounded-lg text-white bg-gray-600 hover:bg-gray-700 sm:col-span-2">
            <i class="fa fa-info-circle"></i> Status
        </button>

    </div>

    {% if let Some(m) = message %}
    <!-- Message Box -->
    <div id="message-box" class="p-4 rounded-lg shadow bg-white border border-gray-200 overflow-auto max-w-full">
        <pre class="whitespace-pre-wrap break-words"><code>{{ m }}</code></pre>
    </div>
    {% endif %}
</div>

</body>
</html>
